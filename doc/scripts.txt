.. image:: http://www.specpose.com/images/specpose_logo470x230.png

Server
======

The server is in the main repo. Get::

    $ git clone https://github.com/fassio/stopeight.git

Build and install stopeight.comparator and stopeight.server::
    
    $ cd /path/to/where/stopeight
    $ python setup.py build
    $ sudo python setup.py install

To create a ZODB storage file::

    $ cd /path/to/where/stopeight/run
    >>> import stopeight.server.zodbTools
    >>> from stopeight.server import server_include
    >>> stopeight.server.zodbTools.create_database(server_include.zodb_filename)

To launch the server do the following from the same directory::

    >>> from stopeight.server import server_soap
    >>> server_soap.run(8888)

.. automodule:: stopeight.server.server_soap
   :members:

Testing it
==========

I have provided example-scripts for all of the SOAP commands::

    $ cd /path/to/where/stopeight/tests
    $ python

To save your first line on the server, run::

    >>> import client_saveLine_test
    >>> client_saveLine_test.run()

This should produce output containing the id of your newly created line.
Keep this id to your records.

To check whether an input line matches any of the reference lines, do the following::

    >>> import client_matchLine_test
    >>> client_matchLine_test.run()

This will return both the data and the id's that have matched your input.

If you want to just retrieve the data of a reference line, you can do so by submitting the id::

    >>> import client_getLine_test
    >>> client_getLine_test.run()

This will return the data associated to the reference line on record.

And finally, if you want to delete a reference line in the database, send the id::

    >>> import client_deleteLine_test
    >>> client_deleteLine_test.run()

Please refer to the code-samples for further information on how to use this from within your code.
